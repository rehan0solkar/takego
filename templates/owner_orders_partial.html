{% if orders %}
{% for o in orders %}
<tr class="order-row">
  <!-- TOKEN -->
  <td>
    <span class="token-badge">{{ o.token }}</span>
  </td>

  <!-- STATUS + TIME -->
<td>
  {% if o.status == 'pending' %}
    <span class="status status-pending">Pending</span>
  {% elif o.status == 'accepted' %}
    <span class="status status-accepted">Preparing</span><br>
    {% if o.remaining is not none %}
    <small  class="eta"
      data-time="{{ o.ready_at }}"
      data-order-id="{{ o.id }}">Prepare in: {{ o.remaining }} mins</small>
  {% endif %}
  {% elif o.status == 'ready' %}
    <span class="status status-ready">Done</span>
  {% elif o.status == 'rejected' %}
    —
  {% else %}
    —
  {% endif %}
</td>
  <!-- PRODUCT + IMAGE -->
  <td>
   {{ o['items'] }}
</td>

  <!-- MESSAGE / FINAL STATUS -->
  <td>
    {% if o.status == "pending" %}
  <a href="/update_order_status/{{ o.id }}/accepted" class="btn btn-accept">Accept</a>
  <a href="/update_order_status/{{ o.id }}/rejected" class="btn btn-reject">Reject</a>
    {% elif o.status == "accepted" %}
                <span class="badge warning">Preparing…</span>
                <a href="/update_order_status/{{ o.id }}/ready" class="btn btn-ready">Ready</a>
    {% elif o.status == "ready" %}
                <span class="badge success">Ready</span>
                {% elif o.status == "rejected" %}
                <span class="badge danger">Rejected</span>
                {% else %}
                <p class="badge muted">Order Cancelled by Customer</p>
    {% endif %}
  </td>
{% else %}
    <tr>
        <td colspan="4" style="text-align:center;">No incoming orders</td>
    </tr>
</tr>
{% endfor %}
{% endif %}
<button id="soundUnlock" style="display:none"></button>
<style>
.btn {
  padding: 4px 7px;
  border: none;
  border-radius: 3px;
  font-weight: 300;
  cursor: pointer;
}
/* Buttons – compact & soft */
.btn-accept {
    background-color: #2e7d32;   /* dark green */
    color: #fff;
    padding: 5px 12px;
    font-size: 13px;
    border-radius: 6px;
    border: none;
}

.btn-reject {
    background-color: #c62828;   /* dark red */
    color: #fff;
    padding: 5px 12px;
    font-size: 13px;
    border-radius: 6px;
    border: none;
}

.btn-ready {
    background-color: #f9a825;   /* soft yellow */
    color: #000;
    padding: 5px 12px;
    font-size: 13px;
    border-radius: 6px;
    border: none;
}

/* Button spacing */
.action-buttons button {
    margin-bottom: 6px;
    width: 90px;
}
.status-pending {
    color: #757575;
    font-weight: 500;
}

.status-accepted {
    color: #2e7d32;
    font-weight: 600;
}

.status-ready {
    color: #f9a825;
    font-weight: 600;
}

</style>